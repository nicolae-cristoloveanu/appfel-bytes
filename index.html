<!DOCTYPE html>
<html lang="en">

<head>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Appfel-Bytes | OCLP iMac Update Guide</title>
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üçè</text></svg>">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Google Fonts - Inter (Apple-like font) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="assets/css/style.css">


</head>

<body>


    <nav class="navbar navbar-expand-lg sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#">Appfel<span class="green-accent">-Bytes</span></a>
            
            <!-- macOS Version Info (hidden on mobile) -->
            <div class="d-none d-lg-block">
                <span class="navbar-text">
                    <span class="fw-bold text-primary fs-6">Current macOS:</span> 
                    <span class="fw-semibold">Sequoia 15.6</span>
                </span>
            </div>
            
            <!-- Mobile menu toggle for side nav -->
            <button class="navbar-toggler d-lg-none" type="button" data-bs-toggle="offcanvas"
                data-bs-target="#sideNavigation" aria-controls="sideNavigation">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 12H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                    <path d="M3 6H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                    <path d="M3 18H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
            </button>
        </div>
    </nav>

    <!-- Side Navigation -->
    <nav class="side-nav d-none d-lg-block" id="sideNav">
        <div class="side-nav-content">
            <div class="side-nav-brand">
                <span>üìñ Quick Navigation</span>
            </div>
            <ul class="side-nav-list">
                <li class="side-nav-item">
                    <a href="#intro" class="side-nav-link">
                        <span class="nav-icon">üè†</span>
                        Introduction
                    </a>
                </li>
                <li class="side-nav-item">
                    <a href="#macos-update" class="side-nav-link">
                        <span class="nav-icon">üîÑ</span>
                        macOS Updates
                    </a>
                    <ul class="side-nav-submenu">
                        <li><a href="#preparation" class="side-nav-sublink">Preparation</a></li>
                        <li><a href="#update-process" class="side-nav-sublink">Update Process</a></li>
                        <li><a href="#faq" class="side-nav-sublink">FAQ</a></li>
                    </ul>
                </li>
                <li class="side-nav-item">
                    <a href="#dual-boot" class="side-nav-link">
                        <span class="nav-icon">üíª</span>
                        Dual-Boot Guide
                    </a>
                    <ul class="side-nav-submenu">
                        <li><a href="#switching-os" class="side-nav-sublink">Switching OS</a></li>
                        <li><a href="#updating-systems" class="side-nav-sublink">Updates</a></li>
                    </ul>
                </li>
                <li class="side-nav-item">
                    <a href="#time-machine-restore" class="side-nav-link">
                        <span class="nav-icon">‚è∞</span>
                        Time Machine Restore
                    </a>
                    <ul class="side-nav-submenu">
                        <li><a href="#restore-methods" class="side-nav-sublink">Restore Methods</a></li>
                        <li><a href="#restore-warnings" class="side-nav-sublink">Important Warnings</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Mobile Offcanvas Navigation -->
    <div class="offcanvas offcanvas-start d-lg-none" tabindex="-1" id="sideNavigation"
        aria-labelledby="sideNavigationLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="sideNavigationLabel">üìñ Navigation</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <ul class="side-nav-list mobile-nav">
                <li class="side-nav-item">
                    <a href="#intro" class="side-nav-link" data-bs-dismiss="offcanvas">
                        <span class="nav-icon">üè†</span>
                        Introduction
                    </a>
                </li>
                <li class="side-nav-item">
                    <a href="#macos-update" class="side-nav-link" data-bs-dismiss="offcanvas">
                        <span class="nav-icon">üîÑ</span>
                        macOS Updates
                    </a>
                </li>
                <li class="side-nav-item">
                    <a href="#dual-boot" class="side-nav-link" data-bs-dismiss="offcanvas">
                        <span class="nav-icon">üíª</span>
                        Dual-Boot Guide
                    </a>
                </li>
                <li class="side-nav-item">
                    <a href="#time-machine-restore" class="side-nav-link" data-bs-dismiss="offcanvas">
                        <span class="nav-icon">‚è∞</span>
                        Time Machine Restore
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <main class="main-content">
        <!-- Hero Section with Image -->
        <section class="hero-section">
            <div class="hero-image-container">
                <!-- Make sure the image path is correct for your project -->
                <img src="assets/images/IMG_1128.PNG" alt="iMac Setup" class="hero-image">
                <div class="hero-overlay">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8 text-center">
                                <h1 class="hero-title">Your Guide to a Modern Mac Experience</h1>
                                <p class="hero-subtitle">Professionally upgraded iMac with OpenCore Legacy Patcher</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section section-intro text-center" id="intro">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <p class="lead">Congratulations on your professionally upgraded iMac! This hub provides everything
                            you need to know about keeping your machine updated and running perfectly for years to come.</p>
                    </div>
                </div>
            </div>
        </section>

        <div class="section pt-0">
            <div class="container">
            <!-- Disclaimer Box -->
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div class="disclaimer-box text-center">
                        <p class="mb-0"><strong>Please Note:</strong> This guide is a living document and a work in
                            progress. More information and tutorials may be added over time. If you have a specific
                            question that isn't answered here, please feel free to reach out!</p>
                    </div>
                </div>
            </div>

            <!-- macOS Update Management Guide -->
            <div class="row justify-content-center mb-5" id="macos-update">
                <div class="col-lg-10">
                    <h2 class="text-center">macOS Update Management Guide</h2>
                    <div class="content-block content-block--blue" id="preparation">
                        <h3 class="text-center" style="border: none; margin-bottom: 2rem;">Part 1: Preparation</h3>
                        <div class="alert-custom alert-warning-custom mb-4">
                            <h4>An Important Note for OpenCore Users</h4>
                            <p class="mb-0">The most important rule for a stable system is to **NEVER use Automatic
                                Updates.** The standard macOS updater doesn't know about the special OCLP configuration.
                                To prevent issues, we always use a simple, safe manual update process. Please ensure all
                                toggles are OFF in <strong>System Settings > General > Software Update > Automatic
                                    updates</strong>.</p>
                        </div>
                        <div class="guide-card">
                            <div class="step-number">Safety Net</div>
                            <h3>Create a Time Machine Backup</h3>
                            <p>As a professional best practice, I advise all Mac users to maintain a regular backup,
                                regardless of their machine's make, model, or configuration. Before any system update,
                                it is essential to create a full backup using Time Machine. This is your ultimate "undo
                                button" and safety net, allowing you to restore your Mac to its exact previous state if
                                anything goes wrong.</p>
                            <h4 class="mt-4">What You'll Need:</h4>
                            <p>You will need an external hard drive. Any standard USB external drive from brands like
                                Seagate, Western Digital, or LaCie will work perfectly. For best results, choose a drive
                                that has **at least the same amount of storage as your iMac's internal drive, or
                                larger.** For example, if your iMac has a 1TB SSD, use a 1TB or 2TB external drive.</p>
                            <h4 class="mt-4">How to Set It Up:</h4>
                            <ol class="fs-6">
                                <li><strong>Connect the Drive:</strong> Plug your new external hard drive into one of
                                    your iMac's USB ports.</li>
                                <li><strong>Format the Drive (if needed):</strong> A pop-up may appear asking if you
                                    want to use the drive for Time Machine. If so, click "Use as Backup Disk." If not,
                                    open the "Disk Utility" application, select your external drive, click "Erase," and
                                    format it as "APFS" or "Mac OS Extended (Journaled)."</li>
                                <li><strong>Start the First Backup:</strong> Once formatted, go to <strong>System
                                        Settings > General > Time Machine</strong>. Click "Add Backup Disk," select your
                                    external drive, and the backup will begin. The first backup can take a few hours, so
                                    let it run.</li>
                                <li><strong>Before an Update:</strong> Always ensure your backup is current. Click the
                                    Time Machine icon in the menu bar (a clock with a circular arrow) and select "Back
                                    Up Now."</li>
                            </ol>
                        </div>
                    </div>
                    <div class="content-block content-block--green" id="update-process">
                        <h3 class="text-center" style="border: none; margin-bottom: 2rem;">Part 2: The Smart Update
                            Process</h3>
                        <p class="text-center mb-4">The OpenCore Legacy Patcher (OCLP) is an intelligent application
                            that often guides you through the update process. The key is to follow its prompts. Here is
                            the typical workflow:</p>

                        <div class="guide-card">
                            <div class="step-number">Step 1</div>
                            <h3>Check for OCLP Prompts & Prepare</h3>
                            <p>Before you do anything, open the <strong>OpenCore-Patcher</strong> app from your
                                Applications folder. OCLP will automatically check for updates and prompt you if its own
                                application or bootloader is out of date. <strong>Always accept these updates
                                    first.</strong></p>
                            <p><strong>Pro-Tip:</strong> Sometimes, when you check for a macOS update in System
                                Settings, OCLP will detect this and proactively prompt you to download necessary
                                libraries in advance. If you see this prompt, accept it. This makes the final patching
                                step much faster.</p>
                        </div>

                        <div class="guide-card">
                            <div class="step-number">Step 2</div>
                            <h3>Install the macOS Update</h3>
                            <p>Once OCLP is up-to-date, you can proceed. Go to <strong>System Settings > General >
                                    Software Update</strong> and click "Update Now." Your iMac will download the
                                official update directly from Apple's servers and begin the installation, which may
                                involve several restarts. This is normal.</p>
                        </div>

                        <div class="guide-card">
                            <div class="step-number">Step 3</div>
                            <h3>Apply Post-Install Root Patches</h3>
                            <p>This is the final and most important step. Each official update from Apple **wipes the
                                custom drivers** needed for things like graphics and Wi-Fi to work on your iMac. This
                                step reinstalls them.</p>
                            <p>After the macOS update is complete, the OCLP app should <strong>automatically open and
                                    prompt you</strong> that "post-install root patches are required." Simply follow the
                                on-screen instructions to apply them. If it doesn't open automatically, just launch it
                                yourself and click <strong>"Post-Install Root Patch."</strong> Reboot when prompted to
                                complete the process.</p>
                        </div>
                    </div>
                    <h3 class="text-center" style="border: none; margin-bottom: 2rem;" id="faq">Part 3: Frequently Asked
                        Questions (FAQ)</h3>
                    <div class="accordion" id="faqAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                    What is OCLP, really? Is it a "hack"?
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne"
                                data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p>It is not a "hack." OCLP is a sophisticated, open-source bootloader developed by
                                        a reputable community. It acts as a bridge, translating instructions between the
                                        modern macOS and your iMac's proven hardware. It allows a genuine, unmodified
                                        version of macOS to run perfectly.</p>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingTwo">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    Can I upgrade to major new versions of macOS (e.g., macOS 16 "Tahoe")?
                                </button>
                            </h2>
                            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo"
                                data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p>Yes, absolutely! However, it's crucial <strong>not to upgrade on release
                                            day.</strong> The OCLP community needs time (usually 2-3 months) to ensure
                                        the new OS runs perfectly on older hardware. I personally test these major
                                        upgrades and will give my clients the go-ahead once I've confirmed it's stable
                                        and reliable.</p>
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingThree">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                    What do I do if something goes wrong after an update?
                                </button>
                            </h2>
                            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
                                data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    <p>Your Time Machine backup is your ultimate safety net. You can boot into macOS
                                        Recovery (by holding Command+R at startup) and restore your Mac to its exact
                                        previous state. For minor issues like Wi-Fi not working, simply re-running Step
                                        3 (Apply Post-Install Root Patches) fixes the problem 99% of the time.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Dual Boot Management Guide -->
            <div class="row justify-content-center mb-5" id="dual-boot">
                <div class="col-lg-10">
                    <h2 class="text-center">Dual Boot Management Guide</h2>
                    <div class="content-block content-block--grey">
                        <p class="text-center mb-4">Your iMac is configured to run both macOS and Windows, giving you
                            the best of both worlds. This guide explains how to switch between them and handle updates.
                        </p>

                        <div class="guide-card" id="switching-os">
                            <div class="step-number">Switching</div>
                            <h3>How to Switch Between macOS and Windows</h3>
                            <p>Thanks to the OpenCore bootloader, you don't need to hold any keys. The boot selection
                                menu will appear automatically every time you start your iMac.</p>
                            <ol class="fs-6">
                                <li><strong>Restart or Turn On Your iMac:</strong> Simply start your machine as you
                                    normally would.</li>
                                <li><strong>Wait for the Boot Picker:</strong> After a moment, you will see the OpenCore
                                    boot picker screen, showing icons for macOS and Windows.</li>
                                <li><strong>Stop the Timer (You have 5 seconds!):</strong> The system will automatically
                                    boot into the default OS after a 5-second countdown. To stop this timer and make a
                                    choice, simply **press any arrow key** on your keyboard. You can now take your time.
                                </li>
                                <li><strong>Select and Boot:</strong> Once the timer is stopped, use the left and right
                                    arrow keys to highlight the operating system you want to use. When you've made your
                                    choice, press the **`Enter`** key or click the icon with your mouse to start up.
                                </li>
                            </ol>
                        </div>

                        <div class="guide-card" id="updating-systems">
                            <div class="step-number">Updates</div>
                            <h3>Updating Windows and macOS</h3>
                            <p><strong>Updating Windows:</strong> You can update Windows normally. Simply go to
                                <strong>Start > Settings > Update & Security > Windows Update</strong> and install any
                                available updates as you would on a standard PC.</p>

                            <!-- NEW WINDOWS 11 NOTE -->
                            <div class="alert-custom alert-info-custom mt-4">
                                <h5>‚ö†Ô∏è Important Note for Windows 11 Users</h5>
                                <p class="mb-0" style="font-size: 1rem;">To ensure system stability, it is crucial to
                                    manage a specific setting within the Microsoft PowerToys application. Please make
                                    sure the <strong>"Awake"</strong> utility is enabled. This prevents the iMac's
                                    screen from freezing after the system enters a hibernation state due to inactivity.
                                    This setting is pre-configured on my builds, but it's important to be aware of it
                                    and ensure it remains active.</p>

                                <h6 class="mt-3 mb-2"><strong>Configuring PowerToys Awake Settings:</strong></h6>
                                <ol style="font-size: 0.95rem; margin-bottom: 1rem;">
                                    <li><strong>Open PowerToys:</strong> Search for "PowerToys" in the Windows Start menu and open the application.
                                        <div class="mt-2 mb-3">
                                            <img src="assets/images/powertoys1.png" alt="PowerToys Awake Option Location" 
                                                 class="img-fluid rounded border" style="max-width: 100%; height: auto;">
                                            <small class="text-muted d-block mt-1"><em>PowerToys main interface showing the Awake option in the sidebar</em></small>
                                        </div>
                                    </li>
                                    <li><strong>Navigate to Awake Settings:</strong> Click on "Awake" in the left sidebar to access the power settings.
                                        <div class="mt-2 mb-3">
                                            <img src="assets/images/powertoys2.png" alt="Default PowerToys Awake Settings" 
                                                 class="img-fluid rounded border" style="max-width: 100%; height: auto;">
                                            <small class="text-muted d-block mt-1"><em>Default Awake settings view</em></small>
                                        </div>
                                    </li>
                                    <li><strong>Enable and Configure Awake:</strong> Toggle the "Enable Awake" switch to ON, then select <strong>"Keep awake indefinitely"</strong> from the dropdown options. Additionally, make sure to enable the <strong>"Keep screen on"</strong> toggle to prevent screen hibernation.
                                        <div class="mt-2 mb-3">
                                            <img src="assets/images/powertoys3.png" alt="Properly Configured PowerToys Awake Settings" 
                                                 class="img-fluid rounded border" style="max-width: 100%; height: auto;">
                                            <small class="text-muted d-block mt-1"><em>Correct configuration with "Keep awake indefinitely" and "Keep screen on" both enabled</em></small>
                                        </div>
                                    </li>
                                </ol>
                                <p class="mb-0 mt-2"><strong>Alternative Method:</strong> You can also manage Awake by right-clicking the PowerToys Awake icon in the system task tray and selecting the appropriate mode.</p>
                                <p class="mb-0 mt-2"><em><strong>Important:</strong> Both "Keep awake indefinitely" and "Keep screen on" options must be enabled to prevent the iMac's screen from freezing during hibernation.</em></p>
                            </div>

                            <p class="mt-4"><strong>Updating macOS:</strong> This is very important. To update the macOS
                                side of your dual-boot system, you must follow the **exact same procedure** detailed in
                                the "macOS Update and Upgrade Procedure" section above. This ensures the OpenCore Legacy
                                Patcher configuration remains correct.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Time Machine Restore Guide -->
            <div class="row justify-content-center mb-5" id="time-machine-restore">
                <div class="col-lg-10">
                    <h2 class="text-center">Time Machine Restore Guide</h2>
                    <div class="content-block content-block--blue">
                        <p class="text-center mb-4">Restoring from Time Machine backups on OCLP systems requires a special procedure to ensure complete restoration without issues. This guide covers the recommended method for full system restoration.</p>

                        <!-- Important Warnings Section -->
                        <div class="alert-custom alert-warning-custom mb-4" id="restore-warnings">
                            <h4>‚ö†Ô∏è Critical Information Before Restoring</h4>
                            <ul class="mb-0">
                                <li><strong>Root Patches Impact:</strong> OCLP root patches can interfere with Time Machine restoration and may cause kernel panics.</li>
                                <li><strong>Sequoia Warning:</strong> Time Machine on macOS Sequoia may not function properly even after uninstalling root patches, potentially causing restore loops.</li>
                                <li><strong>System Requirements:</strong> Full restoration is only supported on Monterey and newer. Big Sur does not support snapshot reversion.</li>
                                <li><strong>Network Drives:</strong> If your backup is on a network drive, ensure Ethernet connectivity as WiFi may be unavailable during restoration.</li>
                            </ul>
                        </div>

                        <!-- Migration Assistant Image -->
                        <div class="text-center mb-4">
                            <img src="assets/images/timemachine-restore.png" alt="Migration Assistant Transfer Options" 
                                 class="img-fluid rounded border" style="max-width: 100%; height: auto;">
                            <small class="text-muted d-block mt-2"><em>Migration Assistant showing transfer options during the restoration process</em></small>
                        </div>

                        <div id="restore-methods">
                            <div class="guide-card">
                                <div class="step-number">Process</div>
                                <h3>Complete Time Machine Restoration</h3>
                                <p>This method provides complete system restoration, restoring everything exactly as it was, including all files and system configurations.</p>
                                
                                <div class="alert-custom alert-info-custom mb-3">
                                    <h5>üìã Requirements</h5>
                                    <p class="mb-0">Requires macOS Monterey or newer. Your Mac will temporarily run slower with reduced functionality during the process.</p>
                                </div>

                                <h4 class="mt-4">Steps:</h4>
                                <ol class="fs-6">
                                    <li><strong>Initial Setup:</strong> During first-time Setup Assistant, do NOT restore the backup. Complete all settings as if starting fresh and reach the desktop.</li>
                                    <li><strong>Remove Root Patches from System:</strong> Open the OCLP application and navigate to "Post Install Volume Patches" section. Click to revert/uninstall the root patches. This completely removes all OCLP modifications from the system.</li>
                                    <li><strong>Mandatory Restart:</strong> Restart your iMac to ensure the root patch removal takes full effect. 
                                        <div class="alert-custom alert-warning-custom mt-2 mb-2">
                                            <p class="mb-0" style="font-size: 0.9rem;"><strong>Expected Behavior:</strong> Your Mac will feel slow due to lack of graphics drivers, resolution may be incorrect, and WiFi will likely be unavailable. This is normal and expected.</p>
                                        </div>
                                    </li>
                                    <li><strong>Use Migration Assistant Only After Restart:</strong> Once logged back in after the restart, launch Migration Assistant and proceed with the complete restoration process. Do not attempt to use Migration Assistant before completing the restart.</li>
                                    <li><strong>Reinstall Root Patches:</strong> After restoration is complete, reopen the OCLP application and reinstall the root patches to restore full functionality.</li>
                                    <li><strong>Final Restart:</strong> Restart once more to complete the process with full OCLP functionality restored.</li>
                                </ol>
                                <p class="mt-3"><em>This method provides complete restoration but requires temporary removal and reinstallation of root patches.</em></p>
                            </div>

                            <div class="guide-card">
                                <div class="step-number">Troubleshooting</div>
                                <h3>Common Issues and Solutions</h3>
                                <ul class="fs-6">
                                    <li><strong>Sequoia Restore Loops:</strong> If you encounter "Migration Finished" loops on Sequoia, restore on an older macOS version first, then upgrade to Sequoia afterward.</li>
                                    <li><strong>Network Drive Access:</strong> If your backup is on a network drive and WiFi is unavailable during the process, connect via Ethernet cable.</li>
                                    <li><strong>Kernel Panics:</strong> If you experience crashes during restoration, ensure you're using the correct method for your macOS version and that root patches are properly handled.</li>
                                    <li><strong>Restoration Issues:</strong> If the restoration process fails, ensure root patches are completely reverted before attempting again.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <!-- Footer -->
    <footer class="py-5 mt-5">
        <div class="container text-center">
            <p class="mb-0">&copy; 2025 Appfel-Bytes. All Rights Reserved. | Expert iMac Refurbishment & Support</p>
            <p>Based in England</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('.side-nav-link[href^="#"], .side-nav-sublink[href^="#"]').forEach(link => {
            link.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);

                if (targetElement) {
                    const offsetTop = targetElement.offsetTop - 100; // Account for fixed navbar
                    window.scrollTo({
                        top: offsetTop,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Active state management for navigation
        function updateActiveNavigation() {
            const sections = document.querySelectorAll('section[id], div[id]');
            const navLinks = document.querySelectorAll('.side-nav-link, .side-nav-sublink');

            let currentSection = '';

            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                if (rect.top <= 150 && rect.bottom >= 150) {
                    currentSection = section.id;
                }
            });

            // Remove active class from all links
            navLinks.forEach(link => link.classList.remove('active'));

            // Add active class to current section link
            if (currentSection) {
                const activeLink = document.querySelector(`[href="#${currentSection}"]`);
                if (activeLink) {
                    activeLink.classList.add('active');
                }
            }
        }

        // Update active navigation on scroll
        window.addEventListener('scroll', updateActiveNavigation);

        // Initial active state
        document.addEventListener('DOMContentLoaded', updateActiveNavigation);

        // Add scroll offset for better positioning
        window.addEventListener('load', function () {
            if (window.location.hash) {
                setTimeout(function () {
                    const element = document.querySelector(window.location.hash);
                    if (element) {
                        const offsetTop = element.offsetTop - 100;
                        window.scrollTo(0, offsetTop);
                    }
                }, 100);
            }
        });
    </script>

</body>

</html>